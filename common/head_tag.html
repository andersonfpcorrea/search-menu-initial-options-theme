<script type="text/discourse-plugin" version="0.8.13" defer>
  async function wait(ms) {
    return new Promise(res => {
      setTimeout(() => {
        res()
      }, ms);
    })
  }

  window.onload = async () => {
    console.log("HHHHHHHHHHHHHEy");
    await wait(5000)
    const inputSearch = document.querySelector("div.search-input");
    console.log({ inputSearch });
    inputSearch.addEventListener("keydown", (e) => {
      console.log({ e });
      console.log(e.target.value);
      const el = document.querySelector("#custom-vsat-init-options");
      console.log({ el });
      const labelEl = el?.querySelector("span.label-suffix");
      console.log({ labelEl });
      if (labelEl) labelEl.innerText = "in Viasat Help Articles";
      el?.addEventListener("click", (e) => {
        console.log({ e });
        const query = el?.querySelector("span.search-item-prefix").innerText;
        console.log({ query });
        location.href = `https://www.forum.test.viasat.com/docs?search=${query}&tag=article`;
      });
    });
  };
</script>
